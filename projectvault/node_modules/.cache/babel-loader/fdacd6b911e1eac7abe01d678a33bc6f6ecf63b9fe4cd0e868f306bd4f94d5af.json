{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./ProjectList.css';import{useLocation}from'react-router-dom';import{useNavigate}from'react-router-dom';import{fetchProjectList}from'../../Service/api';import{ThreeDots}from'react-loader-spinner';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ProjectList(){const notFoundImagePath=process.env.PUBLIC_URL+'/images/not-found.jpg';const navigate=useNavigate();const{search}=useLocation();const queryParams=new URLSearchParams(search);const selectedDomain=queryParams.get('domain');const selectedTopic=queryParams.get('topic');const[projectList,setProjectList]=useState([]);const[loader,setLoader]=useState(true);const handleCallProjectList=async()=>{const response=await fetchProjectList(selectedDomain,selectedTopic);try{const prr=response.projects;for(var i=0;i<prr.length;i++){const arr=prr[i].rating;var c=0;for(var j=0;j<arr.length;j++){c=c+arr[j].rate;}if(arr.length!=0)c=c/arr.length;prr[i].rate=c;}setProjectList(prr);}catch(error){}setLoader(false);};useEffect(()=>{handleCallProjectList();},[]);const handleProjectClick=project=>{navigate(\"/project?projectID=\".concat(project._id));};const handleSellButton=()=>{navigate(\"/addproject\");};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[selectedDomain,\" Projects\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[selectedTopic,\" Topic\"]})]}),!loader&&projectList.length>0&&projectList.map(project=>/*#__PURE__*/_jsxs(\"div\",{className:\"project-box\",onClick:()=>handleProjectClick(project),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"LHS\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"project-title-image\",children:/*#__PURE__*/_jsx(\"img\",{src:project.coverphoto})}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-title-text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:project.title}),/*#__PURE__*/_jsx(\"p\",{children:project.description.length>250?project.description.slice(0,250)+\"...\":project.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"av-docs\",children:[project.documents.map((docs,index)=>/*#__PURE__*/_jsx(\"div\",{children:index<5&&/*#__PURE__*/_jsx(\"div\",{className:\"doc\",children:/*#__PURE__*/_jsx(\"p\",{children:docs.key})})},docs.value)),project.documents.length>5&&/*#__PURE__*/_jsx(\"div\",{children:\"...\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"RHS\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"star\",children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rating\",children:/*#__PURE__*/_jsxs(\"p\",{children:[project.rate,\"/5\"]})})]})]},project._id)),loader&&/*#__PURE__*/_jsx(\"div\",{className:\"loader-message\",children:/*#__PURE__*/_jsx(ThreeDots,{color:\"#000000\",height:50,width:50})}),!loader&&projectList.length==0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-project-message\",children:/*#__PURE__*/_jsx(\"img\",{src:notFoundImagePath})}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-div3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"body-div-headings\",children:\"Want to earn from your own projects ?\"}),/*#__PURE__*/_jsx(\"button\",{className:\"sell-button\",onClick:handleSellButton,children:\"Sell your Project\"})]})]});}export default ProjectList;","map":{"version":3,"names":["React","useState","useEffect","useRef","useLocation","useNavigate","fetchProjectList","ThreeDots","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","ProjectList","notFoundImagePath","process","env","PUBLIC_URL","navigate","search","queryParams","URLSearchParams","selectedDomain","get","selectedTopic","projectList","setProjectList","loader","setLoader","handleCallProjectList","response","prr","projects","i","length","arr","rating","c","j","rate","error","handleProjectClick","project","concat","_id","handleSellButton","children","className","map","onClick","src","coverphoto","title","description","slice","documents","docs","index","key","value","color","height","width"],"sources":["C:/Users/omsin/Desktop/Project Vault Main Folder/ProjectVault/projectvault/src/pages/ProjectList/ProjectList.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './ProjectList.css';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { fetchProjectList } from '../../Service/api';\r\nimport { ThreeDots    } from 'react-loader-spinner';\r\n\r\nfunction ProjectList() {\r\n  const notFoundImagePath = process.env.PUBLIC_URL + '/images/not-found.jpg';\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const queryParams = new URLSearchParams(search);\r\n  const selectedDomain = queryParams.get('domain');\r\n  const selectedTopic = queryParams.get('topic');\r\n  const [projectList, setProjectList] = useState([]);\r\n  const [loader, setLoader] = useState(true);\r\n\r\n  const handleCallProjectList = async () => {\r\n    const response = await fetchProjectList(selectedDomain,selectedTopic);\r\n    try {\r\n      const prr=response.projects;\r\n      \r\n      for( var i=0 ; i<prr.length ; i++ )\r\n      {\r\n        const arr = prr[i].rating;\r\n        var c=0;\r\n        for( var j=0 ; j<arr.length ; j++ )\r\n        {\r\n          c=c+arr[j].rate;\r\n        }\r\n        if(arr.length!=0)\r\n        c=c/arr.length;\r\n        prr[i].rate=c;\r\n      }\r\n      setProjectList(prr);\r\n\r\n    } catch (error) {}\r\n    setLoader(false);\r\n  };\r\n  useEffect(() => {\r\n    handleCallProjectList();\r\n  }, []);\r\n  const handleProjectClick = (project) => {\r\n    navigate(`/project?projectID=${project._id}`);\r\n  };\r\n  const handleSellButton = () => {\r\n    navigate(`/addproject`);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className='heading'>\r\n        <h2>{selectedDomain} Projects</h2>\r\n        <p>{selectedTopic} Topic</p> \r\n      </div>\r\n\r\n      { !loader && projectList.length>0 && projectList.map((project) => (\r\n        <div className='project-box' key={project._id} onClick={() => handleProjectClick(project)}>\r\n        <div className='LHS'>\r\n          <div className='project-title-image'>\r\n            <img src={project.coverphoto} />\r\n          </div>\r\n          <div className='project-title-text'>\r\n            <h3>{project.title}</h3>\r\n            <p>{project.description.length > 250 ? project.description.slice(0, 250)+\"...\" : project.description}</p>\r\n            <div className='av-docs'>\r\n              {project.documents.map((docs,index) => (\r\n                <div key={docs.value}>\r\n                  { index<5 && <div className='doc'><p>{docs.key}</p></div>}\r\n                </div>\r\n              ))}\r\n              { project.documents.length>5 && \r\n                <div>...</div>\r\n              }\r\n            </div>\r\n          </div>\r\n          \r\n        </div>\r\n        <div className='RHS'>\r\n          <div className='star'>&#9733;</div>\r\n          <div className='rating'>\r\n            <p>{project.rate}/5</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      ))}\r\n      { loader &&\r\n        <div className='loader-message'>\r\n          <ThreeDots \r\n            color=\"#000000\"\r\n            height={50}\r\n            width={50}\r\n          />\r\n        </div>\r\n      }\r\n      { !loader && projectList.length==0 &&\r\n        <div className='no-project-message'>\r\n          <img src={notFoundImagePath} />\r\n        </div>\r\n      }\r\n      <div className='body-div3'>\r\n        <h2 className='body-div-headings'>Want to earn from your own projects ?</h2>\r\n        <button className='sell-button' onClick={handleSellButton}>Sell your Project</button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ProjectList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}