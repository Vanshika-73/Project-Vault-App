{"ast":null,"code":"import'./EditProject.css';import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import{useAuth0}from\"@auth0/auth0-react\";import{checkProjectOwnership,fetchProjectfromDB,updateProject}from'../../Service/api';import{updateAvailableDropDownDataDB,fetchDropDownDataDB,uploadFile}from'../../Service/api';import{ThreeDots}from'react-loader-spinner';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTrash}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function EditProject(){const{isAuthenticated,user}=useAuth0();const navigate=useNavigate();const{search}=useLocation();const queryParams=new URLSearchParams(search);const projectID=queryParams.get('projectID');const[loading,setLoading]=useState(true);const[project,setProject]=useState(null);const[textInputs,setTextInputs]=useState({textInput1:'',textInput2:''});const[fileInputs,setFileInputs]=useState([]);const[moreField,setmoreField]=useState(['']);const[stringFileMap,setStringFileMap]=useState(new Map());const[oldFileInputs,setOldFileInputs]=useState([]);const[coverPhoto,setcoverPhoto]=useState('');const[domain,setDomain]=useState('');const[selectedTags,setSelectedTags]=useState([]);const[tag,setTag]=useState('');const[price,setPrice]=useState(0);const[domainList,setDomainList]=useState([]);const[topicList,setTopicList]=useState([]);const[projectLink,setProjectLink]=useState('');const[coverFileName,setCoverFileName]=useState('');const[addDocButtonOpen,setAddDocButtonOpen]=useState(false);const[dropdownData,setDropdownData]=useState(null);const coverInputRef=/*#__PURE__*/React.createRef();const[screenWidth,setScreenWidth]=useState(window.innerWidth);useEffect(()=>{if(dropdownData==null)setDomainsArray();},[]);useEffect(()=>{setTopicsArray();},[domain]);React.useEffect(()=>{checkProjectOwnershipFunction();},[isAuthenticated]);React.useEffect(()=>{if(isAuthenticated&&projectID)fetchProjectData();},[]);const checkProjectOwnershipFunction=async()=>{try{if(!isAuthenticated){navigate('/',{replace:true});}else{const res=await checkProjectOwnership(user.email,projectID);if(res.owner==false){navigate('/',{replace:true});}}}catch(error){alert(\"An error occured\");}};const fetchProjectData=async()=>{try{const res=await fetchProjectfromDB(projectID);setProject(res.project);setDataInFields(res.project);setLoading(false);}catch(error){setLoading(false);}};const setDataInFields=project=>{try{if(!project){console.warn('Project is undefined');return;}setTextInputs({textInput1:project.title,textInput2:project.description});const obj1=project.documents.map(doc=>doc.key);setOldFileInputs(obj1);setCoverFileName(\"Your Current Cover Photo\");setDomain(project.domain);setSelectedTags(project.tags);setPrice(project.price);setProjectLink(project.projectlink);}catch(error){alert(\"An error occured\");}};const handleOldFileDelete=input=>{try{const obj=oldFileInputs.filter(item=>item!==input);setOldFileInputs(obj);}catch(error){alert(\"An error occured\");}};const setDomainsArray=async()=>{try{const response=await fetchDropDownDataDB({range:'all'});const domainData=response.data.domain;setDropdownData(domainData);const dynamicOptions=Object.keys(domainData);setDomainList(dynamicOptions);}catch(error){console.error('Error fetching dropdown data:',error);}};const handleButtonClick=()=>{// Trigger the file picker input\ncoverInputRef.current.click();};const setTopicsArray=async()=>{try{var c=0;for(const key in dropdownData){if(key==domain){c=1;setTopicList(dropdownData[key]);break;}}if(c==0)setTopicList([]);}catch(error){alert(\"An error occured\");}var c=0;for(const key in dropdownData){if(key==domain){c=1;setTopicList(dropdownData[key]);break;}}if(c==0)setTopicList([]);};const handlePriceChange=e=>{try{if(e.target.value<0||e.target.value.length>6)return;setPrice(e.target.value);}catch(error){alert(\"An error occured\");}};const handleTagUnselect=e=>{try{const selectedTag=e.currentTarget.dataset.value;// Add the selected tag into topicList\nsetTopicList([...topicList,selectedTag]);// Remove the selected tag from the selectedTags array\nconst updatedSelectedTags=selectedTags.filter(tag=>tag!==selectedTag);setSelectedTags(updatedSelectedTags);}catch(error){alert(\"An error occured\");}};const handleAddTag=e=>{try{setSelectedTags([...selectedTags,e.target.value]);const updatedTopicList=topicList.filter(tag=>tag!==e.target.value);setTopicList(updatedTopicList);}catch(error){alert(\"An error occured\");}};const handleDomainChange=e=>{try{setDomain(e.target.value);}catch(error){alert(\"An error occured\");}};const handleProjectLinkChange=e=>{try{if(e.target.value.length>500)return;setProjectLink(e.target.value);}catch(error){alert(\"An error occured\");}};const handleFileChange=(e,key)=>{try{const file=e.target.files[0];setStringFileMap(prevMap=>new Map(prevMap.set(key,file)));}catch(error){alert(\"An error occured\");}};const handleTitleChange=e=>{try{if(e.target.value.length>90)return;setTextInputs({...textInputs,[e.target.name]:e.target.value});}catch(error){alert(\"An error occured\");}};const handleDescriptionChange=e=>{try{if(e.target.value.length>1000)return;setTextInputs({...textInputs,[e.target.name]:e.target.value});}catch(error){alert(\"An error occured\");}};const handleCoverPhotoChange=e=>{try{setcoverPhoto(e.target.files[0]);setCoverFileName(e.target.files[0].name);}catch(error){setcoverPhoto(null);setCoverFileName('');}};const handleCancelButtonClick=e=>{try{setcoverPhoto(null);setCoverFileName('');}catch(error){alert(\"An error occured\");}};const handleTextmoreField=e=>{try{if(e.target.value.length>50)return;setmoreField(e.target.value);}catch(error){alert(\"An error occured\");}};const deleteField=input=>{try{stringFileMap.delete(input);setFileInputs(fileInputs.filter(item=>item!==input));}catch(error){alert(\"An error occured\");}};const addFileInput=()=>{try{if(moreField==''||fileInputs.includes(moreField))return;setmoreField('');const newFileInputs=[...fileInputs,moreField];setFileInputs(newFileInputs);setAddDocButtonOpen(false);}catch(error){alert(\"An error occured\");}};const handleAddDocButton=()=>{try{if(stringFileMap.size<=10)setAddDocButtonOpen(true);}catch(error){alert(\"An error occured\");}};const disableAddDoc=()=>{setAddDocButtonOpen(false);};const updateAvailableDropdowns=async(domain,tags)=>{try{const response=await fetchDropDownDataDB({range:'available'});const object=response.data;const obj=response.data.domain;if(Object.keys(obj).includes(domain)){tags.forEach(tag=>{if(!obj[domain].includes(tag)){obj[domain].push(tag);}});}else{obj[domain]=tags;}object.domain=obj;await updateAvailableDropDownDataDB(object);}catch(error){console.error('Error updating available dropdowns:',error);}};const handleSubmit=async e=>{try{e.preventDefault();if(domain&&selectedTags.length>0&&stringFileMap.size+oldFileInputs.length>0){try{setLoading(true);// Create a javascript object to store all data\nconsole.log(1);const projectDocuments=project.documents.filter(element=>{return oldFileInputs.includes(element.key);});// Storing necessary details in JS Object\nconsole.log(2);const projectData={};projectData['title']=textInputs.textInput1;projectData['description']=textInputs.textInput2;projectData['rating']=project.rating;projectData['owner']=user.email;projectData['price']=price;projectData['projectlink']=projectLink;// Add Domain & Topic Tags\nprojectData['domain']=domain;const tags=['All',...selectedTags];projectData['tags']=tags;await updateAvailableDropdowns(domain,tags);// Storing Cover Photo in JS Object if provided\nif(coverFileName!=\"Your Current Cover Photo\"&&coverFileName!=''){const coverPhotoLink=await uploadFile(coverPhoto,coverPhoto.name);projectData['coverphoto']=coverPhotoLink;}else if(coverFileName!=''){projectData['coverphoto']=project.coverphoto;}else{projectData['coverphoto']=\"https://firebasestorage.googleapis.com/v0/b/project-vault-b6e5e.appspot.com/o/coverImage.png?alt=media&token=ac2709cb-bcf0-4f1a-9665-0f525d83ba20\";}// Storing the document links in array\nfor(const key of stringFileMap.keys()){const file=stringFileMap.get(key);if(file){const fileURL=await uploadFile(file,file.name);// Adding Document-DocumentLink as key-value pairs\nprojectDocuments.push({key,value:fileURL});}}// Added documents object into our main object.\nprojectData['documents']=projectDocuments;projectData['date']=project.date;projectData['downloads']=project.downloads;projectData['__v']=project.__v;projectData['_id']=project._id;// Uploaded Project to DB & recieved the documentID\nconst res=await updateProject(projectData);navigate(\"/project?projectID=\".concat(project._id));setLoading(false);}catch(error){alert('There was an error while uploading project !');setLoading(false);}}else{alert('All required fields are not filled !');setLoading(false);}}catch(error){alert(\"An error occured\");}};return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loader-message\",children:/*#__PURE__*/_jsx(ThreeDots,{color:\"#000000\",height:50,width:50})}),!loading&&!project&&/*#__PURE__*/_jsx(\"div\",{className:\"loader-message\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Some error occured, Try again later !\"})}),!loading&&project&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"upload-heading\",children:\"Upload New Project\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inner-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"textInput1\",value:textInputs.textInput1,onChange:handleTitleChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:6,type:\"text\",name:\"textInput2\",value:textInputs.textInput2,onChange:handleDescriptionChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"New Cover Photo (optional) \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:coverInputRef,name:\"coverphoto\",style:{display:'none'},onChange:e=>handleCoverPhotoChange(e)}),coverFileName==''&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cover-upload-button\",onClick:handleButtonClick,children:\"Choose File\"}),coverFileName!=''&&/*#__PURE__*/_jsxs(\"div\",{className:\"cover-selected-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-text\",children:/*#__PURE__*/_jsxs(\"p\",{children:[coverFileName,\" \"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"delete\",onClick:handleCancelButtonClick,children:\"Delete File\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Project Link (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"ProjectLink\",value:projectLink,onChange:handleProjectLinkChange})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"fileInputsContainer\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Your Documents\"}),oldFileInputs&&oldFileInputs.map((input,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"cover-selected-div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-text\",children:/*#__PURE__*/_jsxs(\"p\",{children:[input,\" \"]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"delete\",onClick:()=>handleOldFileDelete(input),children:\"Delete File\"})]})),fileInputs.map((input,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"doc-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"doc-box-LHS\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"doc-box-label\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\".concat(input)})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"doc-box-input\",name:\"fileInput[\".concat(index,\"]\"),onChange:e=>handleFileChange(e,input),required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"doc-box-button\",type:\"button\",onClick:e=>deleteField(input),children:/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faTrash})})]},input))]}),!addDocButtonOpen&&fileInputs.length<10&&/*#__PURE__*/_jsx(\"button\",{className:\"add-doc-button\",type:\"button\",onClick:e=>handleAddDocButton(),children:\"+\"}),addDocButtonOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-doc-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"add-doc-inner-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"add-doc-label\",children:\"File Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"add-doc-input\",name:\"textInput2\",value:moreField,onChange:handleTextmoreField})]}),screenWidth<=600&&/*#__PURE__*/_jsxs(\"div\",{className:\"add-doc-button-div\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"doc-button-in\",type:\"button\",onClick:addFileInput,children:\"Add\"}),/*#__PURE__*/_jsx(\"button\",{className:\"doc-button-in\",type:\"button\",onClick:disableAddDoc,children:\"Remove\"})]}),screenWidth>600&&/*#__PURE__*/_jsx(\"button\",{className:\"doc-button-in\",type:\"button\",onClick:addFileInput,children:\"Add\"}),screenWidth>600&&/*#__PURE__*/_jsx(\"button\",{className:\"doc-button-in\",type:\"button\",onClick:disableAddDoc,children:\"Remove\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Select Domain\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"dropdown\",value:domain,onChange:handleDomainChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),domainList.map(domain1=>/*#__PURE__*/_jsx(\"option\",{value:domain1,children:domain1},domain1))]}),/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Select Topic\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"dropdown\",value:tag,onChange:handleAddTag,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select...\"}),topicList.map(domain1=>/*#__PURE__*/_jsx(\"option\",{value:domain1,children:domain1},domain1))]}),/*#__PURE__*/_jsx(\"div\",{className:\"tag-list\",children:selectedTags.map(tag=>/*#__PURE__*/_jsx(\"p\",{className:\"selected-tag\",onClick:handleTagUnselect,\"data-value\":tag,children:tag},tag))}),/*#__PURE__*/_jsxs(\"div\",{className:\"inner-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"label\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"Price\",value:price,onChange:handlePriceChange,required:true})]}),!loading?/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",type:\"submit\",children:\"Submit\"}):/*#__PURE__*/_jsx(\"div\",{className:\"submit-button\",children:/*#__PURE__*/_jsx(ThreeDots,{color:\"#FFFFFF\",height:15,width:50})})]})]})})]});}export default EditProject;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","useAuth0","checkProjectOwnership","fetchProjectfromDB","updateProject","updateAvailableDropDownDataDB","fetchDropDownDataDB","uploadFile","ThreeDots","FontAwesomeIcon","faTrash","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditProject","isAuthenticated","user","navigate","search","queryParams","URLSearchParams","projectID","get","loading","setLoading","project","setProject","textInputs","setTextInputs","textInput1","textInput2","fileInputs","setFileInputs","moreField","setmoreField","stringFileMap","setStringFileMap","Map","oldFileInputs","setOldFileInputs","coverPhoto","setcoverPhoto","domain","setDomain","selectedTags","setSelectedTags","tag","setTag","price","setPrice","domainList","setDomainList","topicList","setTopicList","projectLink","setProjectLink","coverFileName","setCoverFileName","addDocButtonOpen","setAddDocButtonOpen","dropdownData","setDropdownData","coverInputRef","createRef","screenWidth","setScreenWidth","window","innerWidth","setDomainsArray","setTopicsArray","checkProjectOwnershipFunction","fetchProjectData","replace","res","email","owner","error","alert","setDataInFields","console","warn","title","description","obj1","documents","map","doc","key","tags","projectlink","handleOldFileDelete","input","obj","filter","item","response","range","domainData","data","dynamicOptions","Object","keys","handleButtonClick","current","click","c","handlePriceChange","e","target","value","length","handleTagUnselect","selectedTag","currentTarget","dataset","updatedSelectedTags","handleAddTag","updatedTopicList","handleDomainChange","handleProjectLinkChange","handleFileChange","file","files","prevMap","set","handleTitleChange","name","handleDescriptionChange","handleCoverPhotoChange","handleCancelButtonClick","handleTextmoreField","deleteField","delete","addFileInput","includes","newFileInputs","handleAddDocButton","size","disableAddDoc","updateAvailableDropdowns","object","forEach","push","handleSubmit","preventDefault","log","projectDocuments","element","projectData","rating","coverPhotoLink","coverphoto","fileURL","date","downloads","__v","_id","concat","children","className","color","height","width","onSubmit","type","onChange","required","rows","ref","style","display","onClick","id","index","icon","domain1"],"sources":["C:/Users/omsin/Desktop/Project Vault Main Folder/ProjectVault/projectvault/src/pages/EditProject/EditProject.jsx"],"sourcesContent":["import './EditProject.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { checkProjectOwnership, fetchProjectfromDB, updateProject } from '../../Service/api';\r\nimport { updateAvailableDropDownDataDB, fetchDropDownDataDB, uploadFile } from '../../Service/api';\r\nimport { ThreeDots    } from 'react-loader-spinner';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrash } from '@fortawesome/free-solid-svg-icons';\r\n  \r\n\r\nfunction EditProject() {\r\n    const { isAuthenticated, user } = useAuth0();\r\n    const navigate = useNavigate();\r\n    const { search } = useLocation();\r\n    const queryParams = new URLSearchParams(search);\r\n    const projectID = queryParams.get('projectID');\r\n    const [loading , setLoading] = useState(true);\r\n    const [project , setProject] = useState(null);\r\n\r\n    const [textInputs, setTextInputs] = useState({\r\n        textInput1: '',\r\n        textInput2: '',\r\n    });\r\n    const [fileInputs, setFileInputs] = useState([]);\r\n    const [moreField, setmoreField] = useState(['']);\r\n    const [stringFileMap, setStringFileMap] = useState(new Map());\r\n    const [oldFileInputs, setOldFileInputs] = useState([]);\r\n    const [coverPhoto, setcoverPhoto] = useState('');\r\n    const [domain, setDomain] = useState('');\r\n    const [selectedTags, setSelectedTags] = useState([]);\r\n    const [tag, setTag] = useState('');\r\n    const [price, setPrice] = useState(0);\r\n    const [domainList, setDomainList] = useState([]);\r\n    const [topicList, setTopicList] = useState([]);\r\n    const [projectLink, setProjectLink] = useState('');\r\n    const [coverFileName, setCoverFileName] = useState('');\r\n    const [addDocButtonOpen, setAddDocButtonOpen] = useState(false);\r\n    const [dropdownData, setDropdownData] = useState(null);\r\n    const coverInputRef = React.createRef();\r\n    const [screenWidth, setScreenWidth] = useState(window.innerWidth);\r\n    useEffect(()=>{\r\n        if(dropdownData==null)\r\n        setDomainsArray();\r\n    },[]);\r\n        useEffect(()=>{\r\n        setTopicsArray();\r\n    },[domain]);\r\n\r\n    React.useEffect( () => {\r\n        checkProjectOwnershipFunction();\r\n    }, [isAuthenticated]);\r\n    React.useEffect( () => {\r\n        if(isAuthenticated && projectID )\r\n        fetchProjectData();\r\n    }, []);\r\n    const checkProjectOwnershipFunction = async () => {\r\n        try {\r\n            if (!isAuthenticated) {\r\n                navigate('/', { replace: true });\r\n            }\r\n            else\r\n            {\r\n                const res = await checkProjectOwnership(user.email, projectID);\r\n                if(res.owner==false)\r\n                {\r\n                    navigate('/', { replace: true });\r\n                }\r\n            }\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n    };\r\n    const fetchProjectData = async () => {\r\n        try {\r\n            const res = await fetchProjectfromDB(projectID);\r\n            setProject(res.project);\r\n            setDataInFields(res.project);\r\n            setLoading(false);\r\n        } catch (error) {\r\n            setLoading(false);\r\n        }\r\n    };\r\n    const setDataInFields = (project) => {\r\n        try {\r\n            if (!project) {\r\n                console.warn('Project is undefined');\r\n                return;\r\n            }\r\n            setTextInputs({\r\n                textInput1: project.title,\r\n                textInput2: project.description,\r\n            });\r\n            const obj1 = project.documents.map(doc => doc.key);\r\n            setOldFileInputs(obj1);\r\n            setCoverFileName(\"Your Current Cover Photo\");\r\n            setDomain(project.domain);\r\n            setSelectedTags(project.tags);\r\n            setPrice(project.price);\r\n            setProjectLink(project.projectlink);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n        \r\n    };\r\n    const handleOldFileDelete = (input) => {\r\n        try {\r\n            const obj = oldFileInputs.filter((item) => item !== input);\r\n            setOldFileInputs(obj);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n        \r\n    };\r\n    const setDomainsArray = async () => {\r\n    try {\r\n        const response = await fetchDropDownDataDB({ range : 'all' }); \r\n        const domainData = response.data.domain;\r\n        setDropdownData(domainData);\r\n        const dynamicOptions = Object.keys(domainData); \r\n        setDomainList(dynamicOptions);\r\n    } catch (error) {\r\n        console.error('Error fetching dropdown data:', error);\r\n    }\r\n    };\r\n    const handleButtonClick = () => {\r\n    // Trigger the file picker input\r\n    coverInputRef.current.click();\r\n    };\r\n    const setTopicsArray = async () => {\r\n        try {\r\n            var c=0;\r\n            for (const key in dropdownData) {\r\n                if(key==domain)\r\n                {\r\n                c=1;\r\n                setTopicList(dropdownData[key]);\r\n                break;\r\n                }\r\n            }\r\n            if(c==0)\r\n            setTopicList([]);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n        var c=0;\r\n        for (const key in dropdownData) {\r\n            if(key==domain)\r\n            {\r\n            c=1;\r\n            setTopicList(dropdownData[key]);\r\n            break;\r\n            }\r\n        }\r\n        if(c==0)\r\n        setTopicList([]);\r\n    };\r\n    const handlePriceChange = (e) => {\r\n        try {\r\n            if( e.target.value<0 || e.target.value.length>6)\r\n        return;\r\n        setPrice(e.target.value);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n        \r\n    };\r\n    const handleTagUnselect = (e) => {\r\n        try {\r\n            const selectedTag = e.currentTarget.dataset.value;\r\n            // Add the selected tag into topicList\r\n            setTopicList([...topicList, selectedTag]);\r\n            // Remove the selected tag from the selectedTags array\r\n            const updatedSelectedTags = selectedTags.filter((tag) => tag !== selectedTag);\r\n            setSelectedTags(updatedSelectedTags);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n    \r\n    };\r\n    const handleAddTag = (e) => {\r\n        try {\r\n            setSelectedTags([...selectedTags,e.target.value]);\r\n            const updatedTopicList = topicList.filter(tag => tag !== e.target.value);\r\n            setTopicList(updatedTopicList);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const handleDomainChange = (e) => {\r\n        try {\r\n            setDomain(e.target.value);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n    };\r\n    const handleProjectLinkChange = (e) => {\r\n        try {\r\n            if(e.target.value.length>500)\r\n            return;\r\n            setProjectLink(e.target.value);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n        \r\n    };\r\n    const handleFileChange = (e, key) => {\r\n        try {\r\n            const file = e.target.files[0];\r\n            setStringFileMap((prevMap) => new Map(prevMap.set(key, file)));\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const handleTitleChange = (e) => {\r\n        try {\r\n            if(e.target.value.length>90)\r\n            return;\r\n            setTextInputs({ ...textInputs, [e.target.name]: e.target.value });\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const handleDescriptionChange = (e) => {\r\n        try {\r\n            if(e.target.value.length>1000)\r\n            return;\r\n            setTextInputs({ ...textInputs, [e.target.name]: e.target.value });\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const handleCoverPhotoChange = (e) => {\r\n    try {\r\n        setcoverPhoto(e.target.files[0]);\r\n        setCoverFileName(e.target.files[0].name);\r\n    } catch (error) {\r\n        setcoverPhoto(null);\r\n        setCoverFileName('');\r\n    }\r\n    };\r\n    const handleCancelButtonClick = (e) => {\r\n        try {\r\n            setcoverPhoto(null);\r\n            setCoverFileName('');\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const handleTextmoreField = (e) => {\r\n        try {\r\n            if(e.target.value.length>50)\r\n            return;\r\n            setmoreField(e.target.value);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const deleteField = (input) => {\r\n        try {\r\n            stringFileMap.delete(input);\r\n            setFileInputs(fileInputs.filter((item) => item !== input));\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n            \r\n    };\r\n    const addFileInput = () => {\r\n        try {\r\n                    if( moreField=='' || fileInputs.includes(moreField))\r\n            return;\r\n            setmoreField('');\r\n            const newFileInputs = [...fileInputs, moreField];\r\n            setFileInputs(newFileInputs);\r\n            setAddDocButtonOpen(false);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n    \r\n    };\r\n    const handleAddDocButton = () => {\r\n        try {\r\n            if(stringFileMap.size<=10)\r\n            setAddDocButtonOpen(true);\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n    \r\n    };\r\n    const disableAddDoc = () => {\r\n        setAddDocButtonOpen(false);\r\n    };\r\n    const updateAvailableDropdowns = async (domain, tags) => {\r\n    try {\r\n        const response = await fetchDropDownDataDB({ range: 'available' });\r\n        const object = response.data;\r\n        const obj = response.data.domain;\r\n        if (Object.keys(obj).includes(domain)) {\r\n        tags.forEach((tag) => {\r\n            if (!obj[domain].includes(tag)) {\r\n            obj[domain].push(tag);\r\n            }\r\n        });\r\n        } else {\r\n        obj[domain] = tags;\r\n        }\r\n        object.domain=obj;\r\n        await updateAvailableDropDownDataDB(object);\r\n    \r\n    } catch (error) {\r\n        console.error('Error updating available dropdowns:', error);\r\n    }\r\n    };\r\n    const handleSubmit = async (e) => {\r\n        try {\r\n            e.preventDefault();\r\n            if( domain && selectedTags.length>0 && (stringFileMap.size+oldFileInputs.length)>0){\r\n                try {\r\n                setLoading(true);\r\n                // Create a javascript object to store all data\r\n                console.log(1);\r\n                const projectDocuments = project.documents.filter((element) => {\r\n                    return oldFileInputs.includes(element.key);\r\n                });\r\n                // Storing necessary details in JS Object\r\n                console.log(2);\r\n                const projectData = {};\r\n                projectData['title'] = textInputs.textInput1;\r\n                projectData['description'] = textInputs.textInput2;\r\n                projectData['rating'] = project.rating;\r\n                projectData['owner'] = user.email;\r\n                projectData['price'] = price;\r\n                projectData['projectlink'] = projectLink;\r\n                // Add Domain & Topic Tags\r\n                projectData['domain'] = domain;\r\n                const tags=['All', ...selectedTags];\r\n                projectData['tags'] = tags;\r\n                await updateAvailableDropdowns(domain, tags);\r\n                // Storing Cover Photo in JS Object if provided\r\n                if ( coverFileName!=\"Your Current Cover Photo\" && coverFileName!='') {\r\n                    const coverPhotoLink = await uploadFile(coverPhoto, coverPhoto.name);\r\n                    projectData['coverphoto'] = coverPhotoLink;\r\n                } else if(coverFileName!='') {projectData['coverphoto'] = project.coverphoto;}\r\n                else {projectData['coverphoto'] = \"https://firebasestorage.googleapis.com/v0/b/project-vault-b6e5e.appspot.com/o/coverImage.png?alt=media&token=ac2709cb-bcf0-4f1a-9665-0f525d83ba20\";}\r\n                // Storing the document links in array\r\n                for (const key of stringFileMap.keys()) {\r\n                    const file = stringFileMap.get(key);\r\n                    if (file) {\r\n                        const fileURL = await uploadFile(file, file.name);\r\n                        // Adding Document-DocumentLink as key-value pairs\r\n                        projectDocuments.push({ key, value: fileURL });\r\n                }}\r\n                // Added documents object into our main object.\r\n                projectData['documents'] = projectDocuments;\r\n                projectData['date'] = project.date;\r\n                projectData['downloads'] = project.downloads;\r\n                projectData['__v'] = project.__v;\r\n                projectData['_id'] = project._id;\r\n                // Uploaded Project to DB & recieved the documentID\r\n                const res = await updateProject(projectData);\r\n                navigate(`/project?projectID=${project._id}`);\r\n                setLoading(false);\r\n                } catch (error) {alert('There was an error while uploading project !');setLoading(false);}\r\n            }\r\n            else { alert('All required fields are not filled !');setLoading(false); }\r\n        } catch (error) {\r\n            alert(\"An error occured\");\r\n        }\r\n    \r\n    };\r\n\r\n  return (\r\n    <>\r\n        { loading &&\r\n            <div className='loader-message'>\r\n                <ThreeDots \r\n                    color=\"#000000\"\r\n                    height={50}\r\n                    width={50}\r\n                />\r\n            </div>\r\n        }\r\n        { !loading && !project &&\r\n            <div className='loader-message'>\r\n                <p>Some error occured, Try again later !</p>\r\n            </div>\r\n        }\r\n        { !loading && project &&\r\n            <>\r\n                <div className='form'>\r\n                    <div>\r\n                        <h1 className='upload-heading'>Upload New Project</h1>\r\n                    </div>\r\n                        \r\n                    <form onSubmit={handleSubmit}>\r\n\r\n                    <div className='inner-div'>\r\n                        <p className='label'>Title</p>\r\n                        <input type=\"text\" name=\"textInput1\" value={textInputs.textInput1} onChange={handleTitleChange} required />\r\n                    </div>\r\n                    \r\n                    <div className='inner-div'>\r\n                        <p className='label'>Description</p>\r\n                        <textarea rows={6} type=\"text\" name=\"textInput2\" value={textInputs.textInput2} onChange={handleDescriptionChange} required />\r\n                    </div>\r\n                    \r\n                    <div className='inner-div'>\r\n                        <p className='label'>New Cover Photo (optional) </p> \r\n                        <input type=\"file\" ref={coverInputRef} name={`coverphoto`} style={{ display: 'none' }} onChange={(e) => handleCoverPhotoChange(e)} />\r\n                        { coverFileName=='' && <button type=\"button\" className='cover-upload-button' onClick={handleButtonClick}>Choose File</button>}\r\n                        { coverFileName!='' && <div className='cover-selected-div'>\r\n                        <div className='p-text' ><p>{coverFileName} </p></div>\r\n                        <button type=\"button\" className='delete' onClick={handleCancelButtonClick}>Delete File</button>\r\n                        </div>}\r\n                    </div>\r\n\r\n                    <div className='inner-div'>\r\n                        <p className='label'>Project Link (optional)</p>\r\n                        <input type=\"text\" name=\"ProjectLink\" value={projectLink} onChange={handleProjectLinkChange} />\r\n                    </div>\r\n\r\n                    <div id=\"fileInputsContainer\">\r\n                        <p>Your Documents</p>\r\n                        { oldFileInputs && oldFileInputs.map((input, index) => (\r\n                            <div className='cover-selected-div'>\r\n                                <div className='p-text' ><p>{input} </p></div>\r\n                                <button type=\"button\" className='delete' onClick={()=>handleOldFileDelete(input)}>Delete File</button>\r\n                            </div>\r\n                        ))}\r\n                        {fileInputs.map((input, index) => (\r\n                        <div className='doc-box' key={input}>\r\n                            <div className='doc-box-LHS'>\r\n                            <div className='doc-box-label'><p>{`${input}`}</p></div>\r\n                            <input type=\"file\" className='doc-box-input' name={`fileInput[${index}]`} onChange={(e) => handleFileChange(e, input)} required />\r\n                            </div>\r\n                            <button className='doc-box-button' type=\"button\"  onClick={(e) => deleteField(input)}>\r\n                            <FontAwesomeIcon className='icon' icon={faTrash} />\r\n                            </button>\r\n                        </div>\r\n                        ))}\r\n                    </div> \r\n\r\n                    { !addDocButtonOpen && fileInputs.length<10 &&\r\n                        <button className='add-doc-button' type=\"button\"  onClick={(e) => handleAddDocButton()}>\r\n                        +\r\n                        </button>\r\n                    }\r\n                    \r\n                    { addDocButtonOpen && \r\n                        <div className='add-doc-section'>\r\n                        <div className='add-doc-inner-div'>\r\n                            <p className='add-doc-label'>File Name</p>\r\n                            <input type=\"text\" className='add-doc-input' name=\"textInput2\" value={moreField} onChange={handleTextmoreField} />\r\n                        </div>\r\n                        { screenWidth<=600 && \r\n                            <div className='add-doc-button-div'>\r\n                            <button className='doc-button-in' type=\"button\" onClick={addFileInput}>\r\n                                Add\r\n                            </button>\r\n                            <button className='doc-button-in' type=\"button\" onClick={disableAddDoc}>\r\n                                Remove\r\n                            </button>\r\n                            </div>\r\n                        }\r\n                        { screenWidth>600 &&\r\n                            <button className='doc-button-in' type=\"button\" onClick={addFileInput}>\r\n                            Add\r\n                            </button>\r\n                        }\r\n                        { screenWidth>600 &&\r\n                            <button className='doc-button-in' type=\"button\" onClick={disableAddDoc}>\r\n                            Remove\r\n                            </button>\r\n                        }\r\n                        \r\n                        </div>\r\n                    }\r\n                    \r\n\r\n                    <p className='label' >Select Domain</p>\r\n                    <select className=\"dropdown\" value={domain} onChange={handleDomainChange}>\r\n                        <option value=\"\">Select...</option>\r\n                        {domainList.map((domain1)=>(\r\n                        <option key={domain1} value={domain1}>{domain1}</option>\r\n                        ))}\r\n                    </select>\r\n                    \r\n                    <p className='label' >Select Topic</p>\r\n                    <select className=\"dropdown\" value={tag} onChange={handleAddTag}>\r\n                        <option value=\"\">Select...</option>\r\n                        {topicList.map((domain1)=>(\r\n                        <option  key={domain1}  value={domain1}>{domain1}</option>\r\n                        ))}\r\n                    </select>\r\n                    \r\n                    <div className='tag-list'>\r\n                        {selectedTags.map((tag)=>(\r\n                        <p  key={tag} className='selected-tag' onClick={handleTagUnselect} data-value={tag}>{tag}</p>\r\n                        ))}\r\n                    </div>\r\n                    \r\n                    <div  className='inner-div'>\r\n                        <p className='label'>Price</p>\r\n                        <input type=\"number\" name=\"Price\" value={price} onChange={handlePriceChange} required />\r\n                    </div>\r\n\r\n                    { !loading \r\n                        ? <button className='submit-button' type=\"submit\">Submit</button>\r\n                        : <div className='submit-button'>\r\n                            <ThreeDots \r\n                            color=\"#FFFFFF\"\r\n                            height={15}\r\n                            width={50}  \r\n                            />\r\n                        </div>\r\n\r\n                    }\r\n                    \r\n                    \r\n                    </form>\r\n                </div>\r\n            </>\r\n        }\r\n    </>\r\n  );\r\n\r\n}\r\n\r\nexport default EditProject;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}